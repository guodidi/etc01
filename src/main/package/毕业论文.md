1.绪论 1.1研究意义及背景<br>
1.2国内外研究现状<br>
1.3主要研究内容<br>
1.4论文结构

2 需求分析<br>
2.1 功能需求分析

1. 对所有的来往车辆进行准确收费。
2. 对数据库中车辆信息，站点信息，等进行增删改查。
3. 建立一个比较美观的操作界面。

2.2 数据库需求分析

1. 根据功能分析数据字段
2. 画出相关的E-R图
3. 建立数据库

2.3 工具及其技术需求分析

2.4 确定最后的分析结果

3 系统总体设计

3.1 系统总设计

3.2 系统功能模块设计

具体模块设计

1.

1. 6.系统调试及结果

7.总结及展望 致谢 参考文献 附录

3 开发工具和相关技术 3.1 开发环境

1. JDK 1.8
2. Maven 3.25

3.1 开发工具

1. IntelliJ IDEA 14.1.5
2. MySQL
3. Navicat For MySQL
4. GitHub客户端

3.2相关技术

1. Spring框架
2. Hibernate框架
3. Swing框架

第三章 需求分析<br>
3.1 功能介绍

- 功能1：要求软件对所有通过收费卡口的车辆根据车辆不同类型实现准确收费。也就是说，我们的收费标准是根据OBU发送到RSU中的数据和数据库中的数据库进行比对，以此获得该车辆是否已经在数据库中已有记录。若有记录的话，就可以将当前的收费情况准确的录入到数据库中。如果在数据库中无法查询获的该车的相关信息，则会通知摄像头对有关车辆进行抓拍，以供人工后期的路费追缴。<br>

- 功能2：要求软件拥有较为人性化的界面和后续扩展性。人性化的界面有利于改善后台管理人员操作时的疲惫感，同时对于操作者来说，简单而明了的操作也更加有利于操作。因此在编写界面的时候，应当适当考虑到界面的排版和显示的情况。

- 功能3：实际中的ETC收费是根据DSRC的传输协议进行的，而DSRC协议是依赖于TCP/IP协议进行制定的。所以在这个收费的仿真过程中，需要使用到Socket编程，进行数据之间的传输。同时应当为数据传输的数据制定相关的协议有利于通信双方的编码和解码。

3.2 技术确定<br>

3.2.1 程序设计语言

根据课题给出的软件功能的介绍，我首先确定的是使用的编程语言。在我的个人比较熟悉的编程语言中，有C语言，Java语言，Python语言，C++等。但是，如果我们对功能介绍进行总结，可以发现，我们需要的编程语言应该有以下几个特点：

- 可编写GUI界面
- 可进行Socket编程
- 可和数据库进行通信
- 有多线程编程

在经过广泛的资料查阅之后，我认为使用Java是一个比较合理的选择。因为，Python中对于多线程的支持是有一定缺陷的。一是因为Python的是一种解释性语言，所以其执行效率要远远的低于编译性语言。因此这门程序语言是不符合高并发编程的特点，因此这个是不利于后续将程序进行扩展的。同时Python中的编写格式是以缩进来代替编译语言中的大括号，因此这个原因是对于代码重构是一个较为严重的问题，这个理由可以总结为：动态一时爽，重构火葬场。

对于C语言和C++来说，虽然C语言和C++语言是目前来说中高级语言中执行效率更为高效，但是这两种语言中如果要编写界面的话，需要使用到MFC编程，才可以编写出较为人性化的界面。而且我个人对于C和C++的内存泄漏和指针的使用，有一定恐惧感，同时C和C++编写的程序代码对于平台的依赖，导致程序的可移植性较差。所以我同样放弃了这两门高效但是过于繁琐的程序设计语言。

最后我选择的语言是Java语言。主要原因有以下几个：

- Java语言中的执行效率更高，其庞大的类库和扩展框架，如果你是一个拥有较为丰富的Java 开发者，那么你基本可以通过引用别人的代码对你的项目进行快速的构建。Java语言同样其丰富的JDBC技术支持现市面上主流的数据库，比如说MySQL、Oracle、MongoDB、NoSQL等数据库，也就是说它隔离了你的程序代码和数据库之间的直接通信，让你可以更容易的进行对数据库的更换。总之，Java中的扩展之多，完全可以实现一条编程DRY原则。
- 在Socket中的编程有同步阻塞网络编程（BIO），同步非阻塞网络编程（NIO），异步非阻塞同步编程（AIO）三种。但是基于我们的课题需要的是一对一的通信，因此我采用的是同步阻塞网络编程，因为BIO的瓶颈是10k问题（一个服务端同时处理10K个客户端会让服务器的效率迅速降低，甚至引发宕机等问题）。
- Java中的GUI编程也有三种：AWT/SWT、Swing、JavaFX这三种技术。由于JavaFX相较于Swing和AWT/SWT的相关资料更少，而作为一个初学者，我没有选择使用JavaFX，因为我担心在开发过程中，出现了我无法依靠个人解决，周围有没有相关的技术人员可以对我进行指导，导致最后的项目延期甚至无法完成的情况。经过查阅的相关资料SWT是结合了Java和JNI的实现，它将组件的控制权交给了本地的操作系统，因此它的组件更为难以进行后续的扩展。所以SWT的组件的组件集和特征不如Swing组件的丰富。所以最后我选择的是纯Java语言实现的Swing，因为它的可扩展性最强，同时Swing是轻量级的组件，在任何平台上的实现结果都是一致的。 -

3.2.2 集成开发环境

对于Java来说的主流的开发集成环境有三种：

- Eclipse：这个 Eclipse 是一个开放源代码的、基于Java的可扩展开发平台。就其本身而言，它只是一个框架和一组服务，用于通过插件组件构建开发环境。对于Eclispse来说，它最为开发者所看重的就是其强大的插件扩展的特点，这一点为MyEclipse所望之不及。你同样可以自己编写插件来对你的代码编写进行辅助。不过我认为多数开发者的吸引是因为Eclipse是当时第一个开源，第一个对Java集成环境免费的软件，Eclipse凭一己之力改变了整个的Java IDE的市场情况，因此目前仍然备受广大程序员的欢迎，我想这就是信仰的力量。
- MyEclipse ：MyEclipse企业级工作平台（MyEclipse Enterprise Workbench ，简称MyEclipse）是对Eclipse IDE的扩展，利用它我们可以在数据库和J2EE的开发、发布，以及应用程序服务器的整合方面减少了开发者的工作效率。它是功能丰富的J2EE集成开发环境，包括了完备的编码、调试、测试和发布功能，完整支持HTML, Struts, JSF, CSS, Javascript, SQL, Hibernate。不过，这款软件是一个收费的集成环境，也由于它内置了许多我们需要的插件，因而对开发时的所消耗的内存也较大。
- IntelliJ IDEA ： 这是同样是一个收费的java语言开发集成环境，IntelliJ IDEA是JetBrains公司的一款产品，这个公司的总部位于捷克共和国的首都布拉格，开发者都是以严谨著称的东欧程序员为主。IDEA在代码自动提示、代码重构、Junit、Maven、JUnit、Git、代码审查，GUI设计等方面来说都是超常的。这款产品同样是使用Swing来开发的，因此可以实现各个平台上的一致的显示效果。

3.2.3 Java中的技术使用

- MVC模式<br>
  目前，在程序的应用开发中最经常使用的方式是MVC模式。MVC模式即为Model，View，Controller，Model是模型，它主要负责的是程序之中数据的持久化和传输过程。View就是我们通常所有可以看见的UI界面或者是网页等，也就是说我们通常所见到的页面都是属于View的一部分。Controller是控制层，它可以负责维持View和Model之间的联系控制。采用MVC模式可以更高程度的实现程序之中的业务逻辑，数据，界面显示的代码的分离，有利于程序的编写规范，同时可以是提高程序的逻辑处理和增强程序的可读性。
- Spirng框架<br>
  Spring框架是一个轻量级的开源框架，这个框架的出现为企业应用程序开发复杂性而创建的。框架的主要优势就是分层架构。它的分层架构允许你可以只使用你的程序中有用到的那一部分，同时忽略其他部分。Spring框架中核心与重点的就是两部分：面向方面编程（AOP）和容器的反转控制（IOC）容器。反转控制也称为是依赖反转控制，它可以将原本因当有程序代码处理类的责任转移给Spring框架，从而降低了程序代码之间的耦合关系，有利于代码的重构。由于Spring框架中对Bean的注入可以通过注解的方式，从而让原本混乱不堪的代码结构，可以显得更加的清晰而明了，让不论是开发者还是阅读者都可以更加的专注于代码的逻辑编写或是阅读。
- Hibernate框架<br>
  Hibernate是由JBoss公司开发的一个开放源代码的独立的对象持久层框架，他对JDBC进行了非常轻量级的对象封装，使得开发者可以在程序中使用对象编程的思想来操纵数据库。Hibernate的应用范围同样是广泛的，不论是Java客户端还是J2EE，因为Hibernate是一个和JDBC有密切关联的框架，因此从理论上来说Hiberante的兼容性和JDBC、数据库都有一定的关系，而和使用它的App Server和Java程序没有任何关系，也不存在兼容性的问题。
- Swing框架 Swing框架中使用到MVC模式至今仍然被广大的开发者所推崇。Swing中对于界面的编写确实是有些复杂，但是这种复杂却可以编写出几乎全部你想要的界面或者是组件。在IntelliJ IDEA中自身集成了GUI Designer的插件，可以协助我们完成Swing界面的编写。GUI Designer的思想是将组件的UI界面的编写通过自身插件的装换放到一个.form的文件当中，而在相应的.java文件中存放相关的组件的引用，让你可以完美的实现UI和逻辑控制的分离。
- Maven<br>
  Maven是一个项目管理工具，它包含了一个项目对象模型（POM），一组标准集合，一个项目生命周期（Project Lifecycle），一个依赖管理系统（Dependency Management System），和用来运行定义在生命周期阶段（phase）中插件（plugin）目标（goal）的逻辑。maven在项目中运用主要是有利于我们对于JAR包的版本的管理，它可以自动的为我们从远方的Maven仓库获得我们所需要的JAR文件，而不需要我们自己一个个的查找相应的JAR文件，同时我们在项目中的也可以省去相关JAR文件的引进多个不同版本的JAR文件。一句话，使用Maven可以让你的开发变得更加的高效，这句话是认真的。

3.3 数据库的分析<br>
E-R图示也可以叫做实体-联系图（Entity Relationship Diagram），他表示了实体、属性、联系之间的关系，是用来表示现实世界的概念的结构模型。通常使用矩形表示实体，用菱形表示联系，用椭圆形表示属性，并用无向边来连接实体和联系，同时在边上标明相应的类型。

3.3.1 E-R图的设计

3.3.2 数据库表的设计

第三章 需求分析

3.1 功能介绍 功能1：要求软件对所有通过收费卡口的车辆根据车辆不同类型实现准确收费。也就是说，我们的收费标准是根据OBU发送到RSU中的数据和数据库中的数据库进行比对，以此获得该车辆是否已经在数据库中已有记录。若有记录的话，就可以将当前的收费情况准确的录入到数据库中。如果在数据库中无法查询获的该车的相关信息，则会通知摄像头对有关车辆进行抓拍，以供人工后期的路费追缴。<br>

功能2：要求软件拥有较为人性化的界面和后续扩展性。人性化的界面有利于改善后台管理人员操作时的疲惫感，同时对于操作者来说，简单而明了的操作也更加有利于操作。因此在编写界面的时候，应当适当考虑到界面的排版和显示的情况。

功能3：实际中的ETC收费是根据DSRC的传输协议进行的，而DSRC协议是依赖于TCP/IP协议进行制定的。所以在这个收费的仿真过程中，需要使用到Socket编程，进行数据之间的传输。同时应当为数据传输的数据制定相关的协议有利于通信双方的编码和解码。

3.2 技术确定<br>

3.2.1 程序设计语言

根据课题给出的软件功能的介绍，我首先确定的是使用的编程语言。在我的个人比较熟悉的编程语言中，有C语言，Java语言，Python语言，C++等。但是，如果我们对功能介绍进行总结，可以发现，我们需要的编程语言应该有以下几个特点：

- 可编写GUI界面
- 可进行Socket编程
- 可和数据库进行通信
- 有多线程编程

在经过广泛的资料查阅之后，我认为使用Java是一个比较合理的选择。因为，Python中对于多线程的支持是有一定缺陷的。一是因为Python的是一种解释性语言，所以其执行效率要远远的低于编译性语言。因此这门程序语言是不符合高并发编程的特点，因此这个是不利于后续将程序进行扩展的。同时Python中的编写格式是以缩进来代替编译语言中的大括号，因此这个原因是对于代码重构是一个较为严重的问题，这个理由可以总结为：动态一时爽，重构火葬场。

对于C语言和C++来说，虽然C语言和C++语言是目前来说中高级语言中执行效率更为高效，但是这两种语言中如果要编写界面的话，需要使用到MFC编程，才可以编写出较为人性化的界面。而且我个人对于C和C++的内存泄漏和指针的使用，有一定恐惧感，同时C和C++编写的程序代码对于平台的依赖，导致程序的可移植性较差。所以我同样放弃了这两门高效但是过于繁琐的程序设计语言。

最后我选择的语言是Java语言。主要原因有以下几个：

- Java语言中的执行效率更高，其庞大的类库和扩展框架，如果你是一个拥有较为丰富的Java 开发者，那么你基本可以通过引用别人的代码对你的项目进行快速的构建。Java语言同样其丰富的JDBC技术支持现市面上主流的数据库，比如说MySQL、Oracle、MongoDB、NoSQL等数据库，也就是说它隔离了你的程序代码和数据库之间的直接通信，让你可以更容易的进行对数据库的更换。总之，Java中的扩展之多，完全可以实现一条编程DRY原则。
- 在Socket中的编程有同步阻塞网络编程（BIO），同步非阻塞网络编程（NIO），异步非阻塞同步编程（AIO）三种。但是基于我们的课题需要的是一对一的通信，因此我采用的是同步阻塞网络编程，因为BIO的瓶颈是10k问题（一个服务端同时处理10K个客户端会让服务器的效率迅速降低，甚至引发宕机等问题）。
- Java中的GUI编程也有三种：AWT/SWT、Swing、JavaFX这三种技术。由于JavaFX相较于Swing和AWT/SWT的相关资料更少，而作为一个初学者，我没有选择使用JavaFX，因为我担心在开发过程中，出现了我无法依靠个人解决，周围有没有相关的技术人员可以对我进行指导，导致最后的项目延期甚至无法完成的情况。经过查阅的相关资料SWT是结合了Java和JNI的实现，它将组件的控制权交给了本地的操作系统，因此它的组件更为难以进行后续的扩展。所以SWT的组件的组件集和特征不如Swing组件的丰富。所以最后我选择的是纯Java语言实现的Swing，因为它的可扩展性最强，同时Swing是轻量级的组件，在任何平台上的实现结果都是一致的。 -

3.2.2 集成开发环境

对于Java来说的主流的开发集成环境有三种：

- Eclipse：这个 Eclipse 是一个开放源代码的、基于Java的可扩展开发平台。就其本身而言，它只是一个框架和一组服务，用于通过插件组件构建开发环境。对于Eclipse来说，它最为开发者所看重的就是其强大的插件扩展的特点，这一点为MyEclipse所望之不及。你同样可以自己编写插件来对你的代码编写进行辅助。不过我认为多数开发者的吸引是因为Eclipse是当时第一个开源，第一个对Java集成环境免费的软件，Eclipse凭一己之力改变了整个的Java IDE的市场情况，因此目前仍然备受广大程序员的欢迎，我想这就是信仰的力量。
- MyEclipse ：MyEclipse企业级工作平台（MyEclipse Enterprise Workbench ，简称MyEclipse）是对Eclipse IDE的扩展，利用它我们可以在数据库和J2EE的开发、发布，以及应用程序服务器的整合方面减少了开发者的工作效率。它是功能丰富的J2EE集成开发环境，包括了完备的编码、调试、测试和发布功能，完整支持HTML, Struts, JSF, CSS, Javascript, SQL, Hibernate。不过，这款软件是一个收费的集成环境，也由于它内置了许多我们需要的插件，因而对开发时的所消耗的内存也较大。
- IntelliJ IDEA ： 这是同样是一个收费的java语言开发集成环境，IntelliJ IDEA是JetBrains公司的一款产品，这个公司的总部位于捷克共和国的首都布拉格，开发者都是以严谨著称的东欧程序员为主。IDEA在代码自动提示、代码重构、Junit、Maven、JUnit、Git、代码审查，GUI设计等方面来说都是超常的。这款产品同样是使用Swing来开发的，因此可以实现各个平台上的一致的显示效果。

3.2.3 Java中的技术使用

- MVC模式 目前，在程序的应用开发中最经常使用的方式是MVC模式。MVC模式即为Model，View，Controller，Model是模型，它主要负责的是程序之中数据的持久化和传输过程。View就是我们通常所有可以看见的UI界面或者是网页等，也就是说我们通常所见到的页面都是属于View的一部分。Controller是控制层，它可以负责维持View和Model之间的联系控制。采用MVC模式可以更高程度的实现程序之中的业务逻辑，数据，界面显示的代码的分离，有利于程序的编写规范，同时可以是提高程序的逻辑处理和增强程序的可读性。
- Spring框架 Spring框架是一个轻量级的开源框架，这个框架的出现为企业应用程序开发复杂性而创建的。框架的主要优势就是分层架构。它的分层架构允许你可以只使用你的程序中有用到的那一部分，同时忽略其他部分。Spring框架中核心与重点的就是两部分：面向方面编程（AOP）和容器的反转控制（IOC）容器。反转控制也称为是依赖反转控制，它可以将原本因当有程序代码处理类的责任转移给Spring框架，从而降低了程序代码之间的耦合关系，有利于代码的重构。由于Spring框架中对Bean的注入可以通过注解的方式，从而让原本混乱不堪的代码结构，可以显得更加的清晰而明了，让不论是开发者还是阅读者都可以更加的专注于代码的逻辑编写或是阅读。
- Hibernate框架 Hibernate是由JBoss公司开发的一个开放源代码的独立的对象持久层框架，他对JDBC进行了非常轻量级的对象封装，使得开发者可以在程序中使用对象编程的思想来操纵数据库。Hibernate的应用范围同样是广泛的，不论是Java客户端还是J2EE，因为Hibernate是一个和JDBC有密切关联的框架，因此从理论上来说Hibernate的兼容性和JDBC、数据库都有一定的关系，而和使用它的App Server和Java程序没有任何关系，也不存在兼容性的问题。
- Swing框架 Swing框架中使用到MVC模式至今仍然被广大的开发者所推崇。Swing中对于界面的编写确实是有些复杂，但是这种复杂却可以编写出几乎全部你想要的界面或者是组件。在IntelliJ IDEA中自身集成了GUI Designer的插件，可以协助我们完成Swing界面的编写。GUI Designer的思想是将组件的UI界面的编写通过自身插件的装换放到一个.form的文件当中，而在相应的.java文件中存放相关的组件的引用，让你可以完美的实现UI和逻辑控制的分离。
- Maven Maven是一个项目管理工具，它包含了一个项目对象模型（POM），一组标准集合，一个项目生命周期（Project Lifecycle），一个依赖管理系统（Dependency Management System），和用来运行定义在生命周期阶段（phase）中插件（plugin）目标（goal）的逻辑。maven在项目中运用主要是有利于我们对于JAR包的版本的管理，它可以自动的为我们从远方的Maven仓库获得我们所需要的JAR文件，而不需要我们自己一个个的查找相应的JAR文件，同时我们在项目中的也可以省去相关JAR文件的引进多个不同版本的JAR文件。一句话，使用Maven可以让你的开发变得更加的高效，这句话是认真的。 3.3 数据库的分析 3.3.1 E-R图的设计

第四章 总体架构设计

根据第三章的需求分析和数据库的设计之后，我们知道了虽然我们的主要功能是模拟对所有车辆进行收费。但是这个收费的模块是需要依赖其他模块的存在的来实现的。在我的程序设计之中，在一次模拟收费的过程之中，需要车道控制系统（服务端）计算机后台（客户端）发送一系列信息，而这些信息当中就包含了车辆的信息，车辆的类型，车道的编号，路侧设备的编号等信息。

在需求分析之后我们可以得到我们的程序的总体架构应当是如以下这样的。

第五章 功能模块 1-主界面的设计 2-增删改查模块 3-仿真模拟模块

第六章 测试

第七章 总结和展望
